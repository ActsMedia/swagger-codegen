// CoreDataToSwaggerBuilders.swift
// API Version {{appVersion}}
//

import Foundation
import CoreData

protocol CoreDataToSwaggerBuildable {
	associatedtype Swagger: CoreDataBuildable
    func asSwaggerModel() -> Swagger
}

{{#models}}{{#model}}{{#isDatabaseModel}}{{#isProtocolUUIDType}}extension {{databaseModelName}}: CoreDataToSwaggerBuildable {

    func asSwaggerModel() -> {{plainClassName}} {
        var swagger_{{plainClassName}} = {{plainClassName}}()

{{#vars}}{{^databaseIsRelation}}        swagger_{{plainClassName}}.{{nameInCamelCase}} = {{nameInCamelCase}}
{{/databaseIsRelation}}
{{#databaseIsRelation}}{{#databaseRelationIsToManyReference}}
        if let items = {{databaseRelationPropertyName}} {
            swagger_{{plainClassName}}.{{nameInCamelCase}} = items.map { $0.uuid }
        }
{{/databaseRelationIsToManyReference}}
{{^databaseRelationIsToManyReference}}
        if let item = {{databaseRelationPropertyName}} {
            swagger_{{plainClassName}}.{{nameInCamelCase}} = item.uuid
        }

{{/databaseRelationIsToManyReference}}{{/databaseIsRelation}}{{/vars}}
        return swagger_{{plainClassName}}
    }
}

{{/isProtocolUUIDType}}{{/isDatabaseModel}}{{/model}}{{/models}}